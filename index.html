<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landing Page Harga Kripto (Interaktif)</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f4f4f9; }
        h2 { color: #333; text-align: center; }
        table { width: 80%; margin: 20px auto; border-collapse: collapse; box-shadow: 0 4px 8px rgba(0,0,0,0.1); background-color: white; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #00b06b; color: white; text-transform: uppercase; }
        .price-up { color: green; font-weight: bold; }
        .price-down { color: red; font-weight: bold; }
        .price-stable { color: #007bff; font-weight: bold; }
        
        /* Gaya Tombol Exchange */
        .exchange-btn {
            padding: 10px 15px;
            margin: 0 5px;
            border: 1px solid #ccc;
            background-color: #fff;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .exchange-btn.active, .exchange-btn:hover {
            background-color: #00b06b;
            color: white;
            border-color: #00b06b;
        }
    </style>
</head>
<body>

    <h2>ðŸ“Š Harga Kripto Top Koin (Pilih Exchange)</h2>
    
    <div id="exchange-tabs" style="text-align: center; margin-bottom: 20px;">
        <button class="exchange-btn active" data-exchange-name="Binance" data-api-url="https://api.binance.com/api/v3/ticker/24hr">Binance</button>
        <button class="exchange-btn" data-exchange-name="KuCoin" data-api-url="SIMULASI_KUCOIN_URL">KuCoin</button>
        <button class="exchange-btn" data-exchange-name="Coinbase" data-api-url="SIMULASI_COINBASE_URL">Coinbase</button>
        </div>

    <div id="current-exchange" style="text-align: center; margin-bottom: 10px; font-style: italic;">
        Menampilkan data dari: **Binance**. Data diperbarui setiap 5 detik.
    </div>

    <table>
        <thead>
            <tr>
                <th>Koin (Pair)</th>
                <th>Harga Terakhir (USD)</th>
                <th>24h Change (%)</th>
                <th>Volume 24 Jam</th>
            </tr>
        </thead>
        <tbody id="crypto-data">
            <tr>
                <td colspan="4" style="text-align: center;">Memuat data...</td>
            </tr>
        </tbody>
    </table>

    <script>
        // DAFTAR KONFIGURASI
        const TOP_SYMBOLS = ["BTCUSDT", "ETHUSDT", "BNBUSDT", "SOLUSDT", "XRPUSDT"];
        const SYMBOLS_STRING = JSON.stringify(TOP_SYMBOLS);
        
        // VARIABEL GLOBAL
        let currentAPIUrl = `https://api.binance.com/api/v3/ticker/24hr?symbols=${SYMBOLS_STRING}`;
        let currentExchangeName = "Binance";
        let fetchInterval;
        
        const tableBody = document.getElementById('crypto-data');
        const exchangeButtons = document.querySelectorAll('.exchange-btn');

        // --- FUNGSI UTAMA UNTUK MENGAMBIL DATA ---
        async function fetchCryptoData() {
            try {
                // Tampilkan status memuat
                tableBody.innerHTML = '<tr><td colspan="4" style="text-align: center;">Memuat data dari ' + currentExchangeName + '...</td></tr>';
                
                // Jika URL adalah simulasi, kembalikan array dummy agar tidak error
                if (currentAPIUrl.startsWith('SIMULASI')) {
                    const simulatedData = TOP_SYMBOLS.map(symbol => ({
                        symbol: symbol,
                        lastPrice: (Math.random() * 50000 + 1000).toFixed(2), // Harga acak
                        priceChangePercent: (Math.random() * 5 - 2.5).toFixed(2), // Perubahan acak
                        volume: (Math.random() * 10000).toFixed(0), // Volume acak
                    }));
                    renderTable(simulatedData);
                    return;
                }

                // Ambil data dari API yang sebenarnya
                const response = await fetch(currentAPIUrl);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                
                const allData = await response.json();
